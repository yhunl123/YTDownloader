# YouTube Downloader Project

### - 본 프로그램은 GEMINI AI 를 사용해서 제작된 프로그램 입니다. AI 대화 전문 : https://gemini.google.com/share/222e93a72b28 

**PyQt5**와 **yt-dlp**를 기반으로 제작된 올인원 유튜브 다운로더입니다.
직관적인 GUI 환경에서 일반 영상, 쇼츠(Shorts), 클립(Clip)을 고화질 영상과 고음질 음원(MP3)으로 손쉽게 다운로드하고 관리할 수 있습니다.

---

## 1. 개요 (Overview)

이 프로젝트는 사용자가 유튜브 링크를 입력하면 해당 영상을 분석하여 사용자가 원하는 포맷(MP4, MKV, MP3)과 화질로 다운로드하는 데스크톱 애플리케이션입니다.

### 핵심 기능
* **모든 유형 지원:** 일반 영상, 쇼츠(Shorts), 클립(Clip) URL을 자동 인식하고 분류하여 다운로드합니다.
* **고화질 병합:** 1080p 이상의 고해상도 영상(Video)과 음성(Audio)을 자동으로 병합하여 최상의 품질을 제공합니다.
* **스마트 UI:**
  * **실시간 정보:** 썸네일, 제목, 재생 시간(hh:mm:ss), 파일 용량, 파일 형식, 화질, 영상 유형을 한눈에 확인 가능.
  * **상태 보존:** 프로그램을 종료했다가 다시 켜도 기존 다운로드 리스트와 설정값이 유지됩니다.
* **사용자 편의성:**
  * 우클릭 메뉴를 통한 [파일 위치 열기], https://m.kpedia.jp/w/16422, [삭제] 등 빠른 작업 지원.
  * 중복 다운로드 방지 시스템 탑재.

---

## 2. 설치 및 사용법 (Installation & Usage)

### 사전 준비 (Prerequisites)
이 프로그램은 **Python 3.x** 환경에서 실행됩니다. 또한 고화질 영상 처리를 위해 **FFmpeg**가 필수적으로 필요합니다.

#### 1. 라이브러리 설치
터미널(CMD) 또는 PowerShell에서 아래 명령어를 입력하여 필요한 패키지를 설치합니다.

```bash
pip install PyQt5 yt-dlp requests
```

#### 2. FFmpeg 설치 (필수)
유튜브의 고화질 스트림 처리를 위해 FFmpeg가 반드시 필요합니다.
1.  [FFmpeg 다운로드 사이트](https://www.gyan.dev/ffmpeg/builds/)에 접속합니다.
2.  `ffmpeg-release-essentials.zip` 파일을 다운로드하고 압축을 풉니다.
3.  `bin` 폴더 안에 있는 `ffmpeg.exe` 파일을 복사하여, **이 프로그램의 실행 파일(`main.py`)이 있는 폴더에 붙여넣습니다.**

### 실행 방법
```bash
python main.py
```

### 사용 가이드
1.  **URL 입력:** 상단 입력창에 유튜브 링크(영상, 쇼츠, 클립)를 붙여넣고 `Enter` 또는 `입력` 버튼을 누릅니다.
2.  **옵션 선택:** 파일 형식(mp4, mkv, mp3)과 화질을 선택합니다. (다운로드 중에도 변경 가능)
3.  **경로 지정:** `찾기` 버튼으로 저장할 폴더를 선택합니다. (기본값: `./download`)
4.  **관리:** 리스트 항목을 우클릭하여 폴더 열기, 삭제, 재시도 등을 수행할 수 있습니다.

---

## 3. 주의사항 (Precautions)

1.  **저작권 준수:** 본 프로그램으로 다운로드한 영상 및 음원은 반드시 **개인 소장용**으로만 사용해야 합니다. 무단 배포, 공유, 상업적 이용 시 저작권법에 의해 처벌받을 수 있습니다.
2.  **FFmpeg 오류:** 다운로드가 100%에서 멈추거나 에러가 발생한다면, `ffmpeg.exe` 파일이 프로젝트 폴더 내에 정상적으로 위치해 있는지 확인해주세요.
3.  **클립 다운로드:** 유튜브 클립(Clip)의 경우 서버에서 정보를 가져오는 과정에서 일반 영상보다 초기 분석 시간이 조금 더 소요될 수 있습니다.
4.  **동시 다운로드:** 동일한 URL을 중복해서 다운로드하려 할 경우, 파일 충돌 방지를 위해 추가되지 않습니다.

---

## 4. 연혁 (History)

### v1.0 (Initial Release)
* PyQt5 기반 GUI 및 yt-dlp 연동 기본 다운로드 기능 구현.

### v1.1 (Shorts Support)
* 유튜브 쇼츠(Shorts) URL 인식 및 다운로드 지원.
* UI 레이아웃 개선 (Grid Layout) 및 에러 처리 강화.

### v1.2 (History & UI Polish)
* **히스토리 저장:** 프로그램 종료 후 재시작 시 리스트 복구 기능 추가.
* **디자인 개선:** 리스트 영역 음각(Sunken) 스타일 적용 및 항목 간 구분선 추가.
* **기능 추가:** 리스트 전체 삭제 메뉴 및 우클릭 버그 수정.

### v1.3 (File Management)
* **파일 위치 열기:** 다운로드 완료된 파일의 폴더를 바로 여는 기능 추가.
* **UX 개선:** 입력창 플레이스홀더 제거 및 경로 추적 로직 개선.

### v1.4 (Stability)
* **메타데이터 고정:** 다운로드 진행 중에도 영상 정보가 가려지지 않도록 UI 분리.
* **안정성:** 중복 다운로드 방지 로직(WinError 32 해결) 및 용량 표기 추가.

### v1.5 (Formatting)
* **시간 형식:** 영상 길이를 초 단위에서 `hh:mm:ss` 포맷으로 변경.
* **메뉴 확장:** 개별 항목 우클릭 메뉴에서도 '전체 삭제' 접근 가능하도록 개선.

### v1.6 (Clip Support - Current)
* **클립 지원:** 유튜브 클립(Clip) URL 정규식 및 다운로드 로직 추가.
* **유형 분류:** 메타데이터 UI에 [일반 / 쇼츠 / 클립] 구분 표시 추가.
* **최적화:** 클립 다운로드 시 불필요한 로그 억제 및 진행률 계산 로직 보완.